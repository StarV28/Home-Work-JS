<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Task 1</title>
  </head>

  <body>
    <div class="wrapper">
      <header class="header">Main Page</header>
      <main class="page">
        <div class="page__container">
          <ul class="page__list">
            <li class="page__task">
              Task 1
              <p>
                –ó–∞–¥–∞—á–∞ 1. –î–∞–Ω–æ –∫–ª–∞—Å PhoneNumber. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ string, –ø—Ä–∏ —è–∫–æ–º—É
                –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–æ–º–µ—Ä–∞ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä (050‚Ä¶. ü°™ MTC, 096‚Ä¶ ü°™ Kyivstar, ‚Ä¶.)
              </p>
            </li>
          </ul>
          <div class="page__dessegen dessegen">
            <div class="dessegen__number number">
              <input
                maxlength="13"
                id="input-phone"
                type="text"
                placeholder="Enter NUMBER PHONE"
                class="number__input"
              />
            </div>
          </div>
        </div>
      </main>
      <footer class="footer">Cours JS Starovoit Vladymyr</footer>
    </div>
    <script>
      class PhoneNumber {
        constructor(number) {
          this.number = number;
          this.render();
        }
        render() {
          let p = document.createElement("p");
          p.className = "number__phone";
          document.querySelector(".number").append(p);
          this.p = p;
          this.checkNumber();
        }
        checkNumber() {
          if (/^\.*\d{2}?[050]|[095]\d{7}$/.test(this[Symbol.toPrimitive]("string"))) {
            this.p.innerText = `This number ${this.number} MTC`;
          } else if (/^\.*\d{2}?[067]|[097]\d{7}$/g.test(this[Symbol.toPrimitive]("string"))) {
            this.p.innerText = `This number ${this.number} KievStar`;
          } else if (/^\.*\d{2}?[063]|[073]\d{7}$/g.test(this[Symbol.toPrimitive]("string"))) {
            this.p.innerText = `This number ${this.number} Life`;
          } else {
            this.p.innerText = "Error";
          }
        }
        [Symbol.toPrimitive](hint) {
          let res;
          switch (hint) {
            case "string":
              res = this.number;
              break;
            default:
              res = "Error";
              break;
          }
          return res;
        }
      }

      document.getElementById("input-phone").addEventListener("change", (e) => {
        let inpVal = e.target.value;
        let newPhone = new PhoneNumber(inpVal);
      });
    </script>
  </body>
</html>
