<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Task 1</title>
  </head>

  <body>
    <div class="wrapper">
      <header class="header">Main Page</header>
      <main class="page">
        <div class="page__container">
          <ul class="page__list">
            <li class="page__task">
              Task 1
              <p>
                Задача 1. Створити клас TDate для роботи із датами у форматі
                “день.місяць.рік”. Дата представляється структурою із трьома
                полями. Реалізувати методи збільшення/зменшення дати на певну
                кількість днів, місяців чи років. Введення та виведення дати
                реалізувати за допомогою методу toString.
              </p>
            </li>
          </ul>
          <div class="page__dessegen">
            <script>
              //------------Створити клас TDate для роботи із датами у форматі “день.місяць.рік”. ---------------------
              //------------Дата представляється структурою із трьома полями.------------------------------------------
              let changeDay = parseInt(
                prompt("Введіть кількість днів які ви хочете додати")
              );
              let changeMonth = 7;
              let changeYear = 2023;

              class TDate {
                #day;
                #month;
                #year;
                constructor(initDay, initMonth, InitYear) {
                  this.Day = initDay;
                  this.Month = initMonth;
                  this.Year = InitYear;
                }
                //----------------DayMonth-------------------
                getDayMonth() {
                  let dayMonth = this.Month;
                  switch (dayMonth) {
                    case 1:
                      dayMonth = 31;
                      break;
                    case 2:
                      dayMonth = 28;
                      break;
                    case 3:
                      dayMonth = 31;
                      break;
                    case 4:
                      dayMonth = 30;
                      break;
                    case 5:
                      dayMonth = 31;
                      break;
                    case 6:
                      dayMonth = 30;
                      break;
                    case 7:
                      dayMonth = 31;
                      break;
                    case 8:
                      dayMonth = 31;
                      break;
                    case 9:
                      dayMonth = 30;
                      break;
                    case 10:
                      dayMonth = 31;
                      break;
                    case 11:
                      dayMonth = 30;
                      break;
                    case 12:
                      dayMonth = 31;
                      break;
                  }
                  return dayMonth;
                }
                //-------------Day--------------------------
                get Day() {
                  return this.#day;
                }
                set Day(newValue) {
                  if (newValue === 0) {
                    throw new Error("Incorrect date entered");
                  }
                  this.#day = newValue;
                }
                //------------------Month----------------------------
                get Month() {
                  return this.#month;
                }
                set Month(newValue) {
                  return (this.#month = newValue);
                }
                //---------------------Year--------------------------
                get Year() {
                  return this.#year;
                }
                set Year(newValue) {
                  return (this.#year = newValue);
                }
                //-------Реалізувати методи збільшення/зменшення дати на певну кількість днів, місяців чи років.----------
                getChangeMeth() {
                  //----------------------------------
                  let newDay = this.Day;
                  let dayMonth = this.getDayMonth();
                  //------------------------------------
                  if (newDay > 0) {
                    this.Month += Math.ceil(newDay / dayMonth);
                    if (this.Month > 12) {
                      this.Year += Math.floor(this.Month / 12);
                      this.Month = 0 + Math.ceil(this.Month / 12);
                    }
                    if (newDay - 31 > 0) {
                      for (let i = dayMonth; i < newDay; i++) {
                        newDay -= dayMonth;
                      }
                    }
                  } else {
                    if (newDay < 0) {
                      this.Month += Math.ceil(newDay / dayMonth);
                      if (newDay === 0) newDay = dayMonth - 1;
                      if (this.Month > 12) {
                        this.Year -= Math.ceil(this.month / 12);
                        this.Month = 0 + Math.ceil(this.month / 12);
                      }
                      for (newDay; newDay < 0; newDay++) {
                        newDay += dayMonth;
                      }
                    }
                  }
                  return (this.Day = newDay);
                }
                toString() {
                  this.getChangeMeth();
                  return `Day: ${this.Day} Month: ${this.Month} Year: ${this.Year}`;
                }
              }
              let res = new TDate(changeDay, changeMonth, changeYear);
              document.write(res.toString());
            </script>
          </div>
        </div>
      </main>
      <footer class="footer">Cours JS Starovoit Vladymyr</footer>
    </div>
  </body>
</html>
