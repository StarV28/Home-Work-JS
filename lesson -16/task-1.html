<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Task 1</title>
  </head>

  <body>
    <div class="wrapper">
      <header class="header">Main Page</header>
      <main class="page">
        <div class="page__container">
          <ul class="page__list">
            <li class="page__task">
              Task 1
              <p>
                Задача 1. Створити клас TDate для роботи із датами у форматі
                “день.місяць.рік”. Дата представляється структурою із трьома
                полями. Реалізувати методи збільшення/зменшення дати на певну
                кількість днів, місяців чи років. Введення та виведення дати
                реалізувати за допомогою методу toString.
              </p>
            </li>
          </ul>
          <div class="page__dessegen">
            <script>
              //------------Створити клас TDate для роботи із датами у форматі “день.місяць.рік”. ---------------------
              //------------Дата представляється структурою із трьома полями.------------------------------------------
              let changeDay = parseInt(
                prompt("Введіть кількість днів які ви хочете додати")
              );
              let changeMonth = 7;
              let changeYear = 2023;

              class TDate {
                #day;
                #month;
                constructor(initDay, initMonth, InitYear) {
                  this.Day = initDay;
                  this.Month = initMonth;
                  this.year = InitYear;
                }
                get Month() {
                  return this.#month;
                }
                set Month(newValue) {
                  if (newValue > 12) {
                    throw new Error("Incorrect date entered");
                  }
                  this.#month = newValue;
                }
                get Day() {
                  return this.#day;
                }
                set Day(newValue) {
                  if (typeof newValue === String) {
                    throw new Error("Incorrect date entered");
                  }
                  this.#day = newValue;
                }
                //-------Реалізувати методи збільшення/зменшення дати на певну кількість днів, місяців чи років.----------
                getChangeMeth() {
                  let newDay = this.Day;
                  if (newDay > 0) {
                    newDay;
                    if (newDay - 31 > 0) {
                      this.Month += Math.ceil(newDay / 31);
                      for (let i = 31; i < this.Day; i++) {
                        newDay = this.Day - 31;
                      }
                      if (this.Month > 12) {
                        this.year += Math.ceil(this.Month / 12);
                      }
                    } else {
                      return newDay;
                    }
                  } else {
                    if (newDay + 31 > 0) {
                      this.Month -= Math.ceil(newDay / 31);
                      for (let i = 31; i < this.Day; i++) {
                        newDay = this.Day + 31;
                      }
                      if (this.Month > 12) {
                        this.year += Math.ceil(this.Month / 12);
                      }
                    } else {
                      return newDay;
                    }
                  }
                }
              }
              let res = new TDate(changeDay, changeMonth, changeYear);
              console.log(res.getChangeMeth());
            </script>
          </div>
        </div>
      </main>
      <footer class="footer">Cours JS Starovoit Vladymyr</footer>
    </div>
  </body>
</html>
