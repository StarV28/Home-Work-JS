<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Task 4</title>
  </head>

  <body>
    <div class="wrapper">
      <header class="header">Main Page</header>
      <main class="page">
        <div class="page__container">
          <ul class="page__list">
            <li class="page__task">
              Task 4
              <p>
                Особиста бібліотека. Картотека домашньої бібліотеки: дані книги
                (автори (піб, рік народження, короткий опис), назва книги, жанр,
                видавництво (назва, реєстраційний номер, рік засування)).
                Реалізувати розділи бібліотеки організувати додавання/вилучення
                книг та вибір книг за назвою, за ПІБ автора, за видавництвом.
              </p>
            </li>
          </ul>
          <div class="page__dessegen">
            <script>
              //-------------- Особиста бібліотека.-----------
              //---------------Картотека домашньої бібліотеки:-------
              //--------дані книги (автори (піб, рік народження, короткий опис)-----
              //--------назва книги-----------------
              //--------жанр----------------------
              //--------видавництво (назва, реєстраційний номер, рік засування))-----
              class library {
                constructor(initData) {
                  // this.listBook = listBook;
                  Object.assign(this, initData);
                }
                //------------Реалізувати розділи бібліотеки організувати додавання------
                addBook(book) {
                  this.listBook.push(book);
                }
                //-----------------------вилучення книг---------------------------
                deleteBook(nameBook) {
                  this.listBook = this.listBook.filter(
                    (elem) => elem.nameBook !== nameBook
                  );
                }
                //------------вибір книг за назвою--------------------------------
                choiceNameBook(nameBook) {
                  this.listBook = this.listBook.filter(
                    (elem) => elem.nameBook === nameBook
                  );
                }
                //---------------за ПІБ автора--------------------------------------
                choiceNameAuthor(name) {
                  this.listBook = this.listBook.filter(
                    (elem) => elem.author.name === name
                  );
                }
                //----------------за видавництвом.---------------------------------
                choicePablishName(pabName) {
                  this.listBook = this.listBook.filter(
                    (elem) => elem.publish.pabName === pabName
                  );
                }
              }

              class Book {
                constructor(initData) {
                  this.author = new Author(initData);
                  this.publish = new Publish(initData);
                  this.nameBook = initData.nameBook;
                  this.gener = initData.gener;
                }
              }
              class Author {
                constructor({ name, yearBirth, descrip }) {
                  this.name = name;
                  this.yearBirth = yearBirth;
                  this.descrip = descrip;
                }
              }
              class Publish {
                constructor({ pabName, registrNum, startYear }) {
                  this.pabName = pabName;
                  this.registrNum = registrNum;
                  this.startYear = startYear;
                }
              }

              let listBook = [
                new Book({
                  name: "Ivan Ivanov",
                  yearBirth: 1967,
                  descrip: "Ffff,gggggdddd sss",
                  nameBook: "FFF",
                  gener: "Fantasy",
                  pabName: "Atom",
                  registrNum: 123456789,
                  startYear: 1990,
                }),
                new Book({
                  name: "Fedor Fedorov",
                  yearBirth: 1980,
                  descrip: "Gggdtt bhggfyy, erthjnck",
                  nameBook: "RRR",
                  gener: "Detectiv",
                  pabName: "Roga",
                  registrNum: 987456321,
                  startYear: 1990,
                }),
                new Book({
                  name: "Petr Petrov",
                  yearBirth: 1987,
                  descrip: ":Kdsjkbglsj slkdjghls, gousdfgoa",
                  nameBook: "DDD",
                  gener: "Roman",
                  pabName: "Laska",
                  registrNum: 547896321,
                  startYear: 2013,
                }),
              ];
              console.log(listBook);

              let newLibrary = new library({ listBook });
              console.log(newLibrary);

              let newBookOne = new Book({
                name: "Alex Sidorov",
                yearBirth: 1955,
                descrip: "FGguoa kkeih hdugu bbcus",
                nameBook: "OPU",
                gener: "Horar",
                pabName: "Atom",
                registrNum: 123454685,
                startYear: 2020,
              });
              newLibrary.addBook(newBookOne);
              console.log(newLibrary);

              newLibrary.deleteBook("OPU");
              console.log(newLibrary);

              // newLibrary.choiceNameBook("RRR");
              // console.log(newLibrary);

              // newLibrary.choiceNameAuthor("Fedor Fedorov");
              // console.log(newLibrary);

              newLibrary.choicePablishName("Roga");
              console.log(newLibrary);
            </script>
          </div>
        </div>
      </main>
      <footer class="footer">Cours JS Starovoit Vladymyr</footer>
    </div>
  </body>
</html>
